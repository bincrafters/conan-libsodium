project(test_package)
cmake_minimum_required(VERSION 2.8.11)

include(${CMAKE_BINARY_DIR}/../conanbuildinfo.cmake)
if (${BUILD_VARIANT} STREQUAL "CONAN_TARGETS")
    conan_basic_setup(TARGETS)
else()
    conan_basic_setup()
endif()

if (${BUILD_VARIANT} STREQUAL "FIND_PACKAGE" OR ${BUILD_VARIANT} STREQUAL "FIND_PACKAGE_TARGETS")
    find_package(Sodium REQUIRED)
endif()

add_executable(${PROJECT_NAME} test_package.cpp)

if (${BUILD_VARIANT} STREQUAL "CONAN")
    target_link_libraries(${PROJECT_NAME} ${CONAN_LIBS})
endif()
if (${BUILD_VARIANT} STREQUAL "CONAN_TARGETS")
    target_link_libraries(${PROJECT_NAME} CONAN_PKG::libsodium)
endif()
if (${BUILD_VARIANT} STREQUAL "FIND_PACKAGE")
    target_include_directories(${PROJECT_NAME} PRIVATE ${sodium_INCLUDE_DIR})
    target_link_libraries(${PROJECT_NAME} ${sodium_LIBRARY})
endif()
if (${BUILD_VARIANT} STREQUAL "FIND_PACKAGE_TARGETS")
    target_link_libraries(${PROJECT_NAME} sodium)
endif()
